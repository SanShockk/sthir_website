
/* =========================
   Apple-style Program FX
   ========================= */
   .programfx{ padding:0; }
   .programfx-shell{
     display:grid; grid-template-columns: 320px 1fr; gap:2rem; align-items:start;
     padding-top:3.5rem; padding-bottom:3rem;
   }
   @media (max-width: 960px){
     .programfx-shell{ grid-template-columns: 1fr; }
   }
   
   /* Left tracker (sticky) */
   .programfx-left{
     position:sticky; top:88px;
     align-self:start;
     background:linear-gradient(#ffffff,#ffffff) padding-box,
                linear-gradient(93deg, rgba(37,99,235,.15), rgba(124,58,237,.15)) border-box;
     border:1px solid transparent; border-radius:16px;
     padding:1.1rem; box-shadow:var(--shadow-sm);
   }
   .programfx-left-head .badge{ margin-bottom:.35rem; }
   .programfx-left h2{ margin:.15rem 0 .5rem; }
   .tracker-phase{
     display:flex; justify-content:space-between; align-items:center;
     background:#fff; border:1px solid var(--faint); border-radius:12px; padding:.6rem .75rem;
     box-shadow:0 1px 6px rgba(2,6,23,.06);
     margin-bottom:.75rem;
   }
   .tracker-phase-label{ font-size:.88rem; color:var(--muted); }
   .tracker-phase-name{ font-weight:800; letter-spacing:.2px; }
   
   .tracker-weeks{
     list-style:none; padding:0; margin:.5rem 0 1rem; display:grid; gap:.25rem;
     max-height:min(55vh, 520px); overflow:auto; scroll-behavior:smooth;
   }
   .tracker-weeks li{
     display:flex; align-items:center; gap:.6rem;
     padding:.45rem .6rem; border-radius:10px; border:1px solid transparent;
     cursor:pointer;
   }
   .tracker-weeks li .wknum{
     width:28px; height:28px; border-radius:50%; display:grid; place-items:center;
     background:#eef2ff; border:1px solid #c7d2fe; font-weight:700; color:#1e3a8a; font-size:.92rem;
   }
   .tracker-weeks li .wktitle{ font-weight:600; color:#0b1220; font-size:.98rem; }
   .tracker-weeks li.is-active{
     background:#f5f7ff; border-color:#c7d2fe;
     box-shadow:0 1px 12px rgba(2,6,23,.06);
   }
   .tracker-weeks li.is-active .wknum{ background:#1e3a8a; color:#fff; border-color:#1e3a8a; }
   
   .tracker-rail{
     height:8px; border-radius:999px; background:#eef2ff; overflow:hidden;
     position:relative;
   }
   .tracker-fill{
     height:100%; width:0%;
     background:linear-gradient(93deg, var(--blue), #7c3aed);
     border-radius:999px; transition:width .35s ease;
   }
   
   /* Right side: banners + weeks lane */
   .programfx-right{
     position:relative; display:flex; flex-direction:column; gap:2rem; min-height:100vh;
   }
   
   /* Phase banners: full-screen-ish, sticky reveal */
   .phase-banner{
     height:92vh; position:relative; display:grid; place-items:center;
     isolation:isolate; /* improve blending */
   }
   .phase-banner-inner{
     text-align:center; color:#0b1220; transform: translateY(12px);
     opacity:0; transition:opacity .6s ease, transform .6s ease;
   }
   .phase-banner.is-visible .phase-banner-inner{ opacity:1; transform:none; }
   .phase-kicker{
     display:inline-block; padding:.3rem .8rem; border-radius:999px; font-weight:800; letter-spacing:.08em;
     border:1px solid rgba(2,6,23,.12); background:#fff9; backdrop-filter: blur(6px);
   }
   .phase-title{
     font-size:clamp(2.6rem, 6vw, 6rem);
     line-height:0.95; margin:.45rem 0 .35rem;
     text-shadow:0 18px 54px rgba(2,6,23,.18);
   }
   .phase-sub{ color:#334155; font-weight:600; font-size:1.1rem; }
   
   /* Subtle themed BGs per phase */
   .phase-banner[data-phase="Anchoring"]{
     background:
       radial-gradient(1200px 520px at 80% -10%, rgba(124,58,237,.17), transparent 60%),
       radial-gradient(900px 480px at -10% 10%, rgba(37,99,235,.14), transparent 55%),
       linear-gradient(120deg, #eef2ff 0%, #ffffff 55%, #eef2ff 100%);
   }
   .phase-banner[data-phase="Exploration"]{
     background:
       radial-gradient(1200px 520px at 80% -10%, rgba(16,185,129,.18), transparent 60%),
       radial-gradient(900px 480px at -10% 10%, rgba(59,130,246,.12), transparent 55%),
       linear-gradient(120deg, #ecfdf5 0%, #ffffff 55%, #ecfdf5 100%);
   }
   .phase-banner[data-phase="Rooting"]{
     background:
       radial-gradient(1200px 520px at 80% -10%, rgba(236,72,153,.18), transparent 60%),
       radial-gradient(900px 480px at -10% 10%, rgba(99,102,241,.12), transparent 55%),
       linear-gradient(120deg, #fdf2ff 0%, #ffffff 55%, #fdf2ff 100%);
   }
   
   /* Weeks grid */
   .phase-weeks{
     display:grid; gap:1.2rem;
     scroll-margin-top:88px;
   }
   .week-card{
     background:#fff; border:1px solid rgba(2,6,23,.06); border-radius:16px;
     padding:1.1rem 1.1rem .95rem; box-shadow:var(--shadow-sm);
     transition:transform .35s ease, box-shadow .35s ease, border-color .35s ease, background .3s ease;
     scroll-snap-align: start;
   }
   .week-card .wkhead{ display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:.4rem; }
   .week-card .wkphase{
     padding:.25rem .6rem; border-radius:999px; border:1px solid #c7d2fe; background:#eef2ff; color:#1e3a8a; font-weight:800; font-size:.88rem;
   }
   .week-card .wktitle{ margin:.15rem 0 .5rem; font-size:1.15rem; font-weight:700; }
   .week-card p{ margin:.2rem 0 .6rem; color:#334155; }
   .week-card ul{ margin:.25rem 0 0 1rem; color:#475569; }
   .week-card.is-current{
     transform:translateY(-2px);
     border-color:#c7d2fe; box-shadow:var(--shadow-md);
     background:linear-gradient(#ffffff,#ffffff) padding-box,
                linear-gradient(93deg, rgba(37,99,235,.20), rgba(124,58,237,.20)) border-box;
   }
   
   /* Scroll niceties */
   .programfx-right{ scroll-snap-type:y proximity; }
   @media (max-width: 960px){
     .programfx-right{ scroll-snap-type: none; }
   }
   
   /* Phase change overlay (quick flash of title) */
   .phase-swap{
     position:fixed; inset:0; display:grid; place-items:center; pointer-events:none;
     opacity:0; transform: translateY(12px); transition:opacity .38s ease, transform .38s ease;
     z-index:60;
   }
   .phase-swap .swap-pill{
     padding:.5rem 1rem; border-radius:999px; border:1px solid rgba(2,6,23,.12);
     background:#ffffffea; backdrop-filter: blur(8px);
     font-weight:800; letter-spacing:.06em; color:#0b1220;
   }
   .phase-swap.show{ opacity:1; transform:none; }
   
   /* Reduced motion */
   @media (prefers-reduced-motion: reduce){
     .phase-banner-inner, .week-card, .tracker-fill, .phase-swap{ transition:none !important; }
   }
   